# Staged: src/app/reports/page.tsx

```
{"status":"success","output":"? \"opacity-100 text-indigo-400\"\n              : hasTranslation\n                ? \"opacity-40 text-gray-600 cursor-not-allowed\"\n                : \"opacity-0 group-hover:opacity-100 hover:text-indigo-400\"\n          }`}\n          title={hasTranslation ? \"Korean version already exists\" : \"Translate to Korean\"}\n        >\n          {isTranslating ? <Loader2 className=\"w-3.5 h-3.5 animate-spin\" /> : <Languages className=\"w-3.5 h-3.5\" />}\n        </button>\n      )}\n\n      <button\n        onClick={(e) => onDownload(e, node.path, node.name)}\n        disabled={isTranslating}\n        className=\"opacity-0 group-hover:opacity-100 p-1.5 hover:text-emerald-400 transition-all mb-0.5 shrink-0\"\n        title=\"Download File\"\n      >\n        <Download className=\"w-3.5 h-3.5\" />\n      </button>\n      <button\n        onClick={(e) => onDelete(e, node.path, 'file')}\n        disabled={isTranslating}\n        className=\"opacity-0 group-hover:opacity-100 p-1.5 hover:text-rose-500 transition-all mb-0.5 shrink-0\"\n        title=\"Delete File\"\n      >\n        <Trash2 className=\"w-3.5 h-3.5\" />\n      </button>\n    </div>\n  );\n});\n\nTreeItem.displayName = \"TreeItem\";\n\nconst ReportViewer = ({\n  content,\n  ext,\n  isEditing,\n  editContent,\n  setEditContent\n}: {\n  content: string;\n  ext: string | undefined;\n  isEditing: boolean;\n  editContent: string;\n  setEditContent: (val: string) => void;\n}) => {\n  const largeFileThreshold = parseInt(process.env.NEXT_PUBLIC_LARGE_FILE_THRESHOLD_BYTES || \"800000\");\n  const isTooLarge = content.length > largeFileThreshold; // 800KB threshold\n\n  const renderedContent = useMemo(() => {\n    if (!content || isTooLarge) return \"\";\n    if (ext === 'json') {\n      try {\n        return JSON.stringify(JSON.parse(content), null, 2);\n      } catch {\n        return content;\n      }\n    }\n    return content;\n  }, [content, ext, isTooLarge]);\n\n  if (isEditing) {\n    return (\n      <textarea\n        value={editContent}\n        onChange={(e) => setEditContent(e.target.value)}\n        className=\"flex-1 bg-[#fdfcf6] p-6 font-mono text-sm resize-none focus:outline-none text-gray-900 leading-relaxed custom-scrollbar overflow-y-auto whitespace-pre-wrap break-all\"\n        spellCheck={false}\n        autoFocus\n      />\n    );\n  }\n\n  if (ext === 'md') {\n    return (\n      <div className=\"flex-1 overflow-auto p-8 max-w-full min-w-0 custom-scrollbar bg-[#fdfcf6] text-gray-900 markdown-preview break-words\">\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm]}\n          components={{\n            code({ inline, className, children, ...props }: MarkdownCodeProps) {\n              const { style: _style, ...rest } = props;\n              void _style;\n              const match = /language-(\\w+)/.exec(className || '');\n              if (!inline && match) {\n                return (\n                  <SyntaxHighlighter\n                    style={syntaxTheme}\n                    language={match[1]}\n                    PreTag=\"div\"\n                    wrapLongLines={true}\n                    customStyle={{\n                      margin: 0,\n                      padding: '1.25rem',\n                      fontSize: '0.9em',\n                      backgroundColor: '#f9fafb',\n                      borderRadius: '0.75rem',\n                      border: '1px solid #e5e7eb',\n                      whiteSpace: 'pre-wrap',\n                      wordBreak: 'break-all'\n                    }}\n                    {...rest}","exitCode":0}
```